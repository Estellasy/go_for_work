美团-核心商业-基础架构部门-一面
时间：2024-05-17 下午15:00-16:00

时隔三年的第一次面试，从测试开发到golang后端开发，有进步，但是答的非常不好，基础还是不扎实。

面试官一上来就问我是不是紧张，是的确实非常紧张，但是也早已预料到会挂。
# 拷打项目
## 云存储
1. 设计云存储时需要注意什么：
2. 如何保证数据的完整性：
3. 数据上传协议：实际上我并没有写着一部分，我也不会。我根本就没实现。
4. 整体逻辑：我说的是先保存到本地，然后再传到存储介质，在传输到服务端的时候再考虑分片上传。没有考虑到在客户端如何实现分片上传。面试官后面问的这些都是基于“客户端和本地之间”如何实现
5. 如何实现秒传：验证哈希值是否已存在于数据库中
6. 如何实现断点续传：
7. 分片上传如何确定已经上传完成：答的Redis
8. 分片上传和断点续传的区别：混淆了
9.  minio的原理：没了解过，只答了一个分片，实际上还需要进一步了解
10. 为什么要用kafka：答了一下用于写数据库，实际上不用也可以
11. kafka的使用时机：在写文件元数据的时候，这个场景的确非常牵强，我也没想到面试官会问到这么多
12. kafka怎么用的：就答了一下确保稳定性，答错了
13. kafka的使用场景：秒杀，秒杀为什么要用，又没有答上来

这个项目总体上我并不熟悉（dbq写上去了），后面还是要进一步细化。

没有问到JWT鉴权和OAuth认证的实现，还是比较关注业务部分。

Kafka这里要熟悉常见业务场景，以及秒杀是怎么实现的。

## bitcask数据库项目
1. 介绍一下WAL是什么，数据是怎么组织的：答的每一条数据都是一个entry，写文件的时候写write ahead log，write ahead log本身就是存储文件，面试官说这个用于数据恢复，如mysql中，感觉他还是没有搞清楚，下次要更加细致地进行讲解；
2. 为什么不直接写文件，WAL就是文件，我介绍了一下segment/block/chunk这些，还说了一下与Redis相比的区别，面试官不是很感兴趣的样子，追问问什么需要顺序。
3. 准备的索引都没有问到

## go八股文
1. %+v和%v的区别：我真的忘了，没用过
2. struct{}{}的作用：答了两个，一个是channel同步，另一个是map[string]struct{}{}，实现set
3. 说一下goroutine和go channel的实现：答了GPM模型和channel的数据结构，channel通过通信来共享内存
4. 进程通信的方式：管道，共享内存，加锁解锁
5. 有缓冲channel和无缓冲channel
6. go协程泄露：我没听说过

## 算法题
二叉树的右视图，我tm cpp都忘了。。。

总的来说，项目就是一坨，八股文命中率还可以。继续加油。